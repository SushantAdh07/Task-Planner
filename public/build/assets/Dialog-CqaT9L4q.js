import{r as e,j as s,S as D}from"./app-BVdH1Zix.js";import E from"./EditDialog-BQrcTdVQ.js";import j from"./InputDialog-BXffxpeq.js";function C({value:n,tasks:d,loggedInUser:l,selectedUser:a,users:h}){var m;const[u,r]=e.useState(!1),[p,x]=e.useState(null),[t,o]=e.useState(null),c=d.filter(i=>i.selected_date===n);e.useEffect(()=>{c.length>0?o(c[0]):o(null)},[n,d]);const b=()=>{l===a&&r(!0)},f=()=>{l===a&&x(t==null?void 0:t.id)},N=()=>{r(!1),x(null)};function k(){confirm("Are you sure you want to delete the task?")&&D.delete(route("task.delete",t.id))}return s.jsxs("div",{className:"container-fluid dialog-body",children:[s.jsxs("div",{className:"col-md-3 p-3 dialog-sidebar",children:[s.jsxs("div",{className:"row",children:[s.jsx("h4",{className:"col",children:"Tasks"}),l===a&&s.jsx("button",{className:"col",onClick:b,children:"+"})]}),c.map((i,g)=>s.jsx("li",{className:"task-lists",children:s.jsxs("button",{className:`btn btn-light task-buttons ${(t==null?void 0:t.id)===i.id?"active":""}`,onClick:()=>o(i),children:["Task ",g+1]})},i.id))]}),s.jsx("div",{className:"col-md-9 p-3 dialog-taskbar",children:s.jsxs("span",{style:{gap:"10px"},children:[s.jsx("button",{className:"btn neutralButton",children:s.jsxs("p",{children:[s.jsx("strong",{children:(m=h.find(i=>i.id===a))==null?void 0:m.name})," ","on ",n]})}),s.jsx("div",{className:"mt-3",children:u?s.jsx(j,{value:n}):t?s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Task Name: "}),s.jsx("br",{}),t.task_name]}),s.jsx("hr",{className:"mt-2 mb-2"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Task Description: "}),s.jsx("br",{}),t.task_description]}),s.jsx("div",{className:"mt-3",children:l===a&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"btn neutralButton",onClick:()=>f(t.id),children:"Edit"}),p===t.id&&s.jsxs("div",{className:"editDialog-box",children:[s.jsx(E,{value:n,selectedTask:t}),s.jsx("button",{className:"btn neutralButton mt-3",onClick:N,children:"Back"})]}),s.jsx("button",{className:"btn delete-task",onClick:k,children:"Delete"})]})})]}):l===a?s.jsx(j,{value:n}):s.jsx("h1",{children:"No tasks available"})})]})})]})}export{C as default};
