import{R as o,K as j,j as s,$ as w}from"./app-CMKydbov.js";import b from"./CustomCalendar-bBynQDfh.js";import"./Dialog-B0PvBZd1.js";import"./EditDialog-Cym3dlfP.js";import"./createLucideIcon-BRC5lge9.js";import"./InputDialog-zUmt0i4I.js";import"./Commenter-DFv039ff.js";function L({tasks:l=[],users:n=[],auth:t,errors:x,children:N,comments:d=[]}){var m,c;const a=t.user.id;o.useState(null);const{flash:p}=j().props,[i,u]=o.useState(a),[g,f]=o.useState(l.filter(e=>e.user_id===a).map(e=>({...e,comments:e.comments||[]}))),h=e=>{u(e),f(l.filter(r=>r.user_id===e).map(r=>({...r,comments:r.comments||[]})))};return console.log("First comment's user:",(m=d[0])==null?void 0:m.user),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"container p-3 main",children:[s.jsxs("div",{className:"flex justify-between items-center w-full",children:[s.jsxs("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-800 truncate max-w-[50%] sm:max-w-[70%]",children:["Calendar for ",t.user.name]}),s.jsxs("div",{className:"dropdown ml-2",children:[s.jsx("a",{className:"btn flex items-center gap-1 dropdown-toggle neutralButton hover:text-white",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false",children:((c=n.find(e=>e.id===i))==null?void 0:c.name)||t.user.name}),s.jsxs("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuLink",children:[n&&n.map(e=>s.jsx("li",{children:s.jsx("a",{onClick:()=>h(e.id),className:`dropdown-item ${t.user&&t.user.id===e.id?"bg-gray-200 text-black":""}`,href:"#",children:e.name})},e.id)),s.jsx("li",{children:s.jsx(w,{href:route("logout"),method:"post",className:"dropdown-item bg-blue-700 text-white hover:bg-blue-800",children:"Logout"})})]})]})]}),s.jsx(b,{tasks:g,loggedInUser:t.user.id,selectedUser:i,users:n,errors:x,flash:p,comments:d})]})})}export{L as default};
